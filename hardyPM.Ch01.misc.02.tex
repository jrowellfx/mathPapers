\documentclass{article}

\usepackage[utf8]{inputenc} % set input encoding (not needed with XeLaTeX)

%%% PAGE DIMENSIONS
\usepackage{geometry} % to change the page dimensions
\geometry{letterpaper} % or letterpaper (US) or a5paper or....
\geometry{margin=1.35in} % for example, change the margins to 2 inches all round

\usepackage{graphicx} % support the \includegraphics command and options

\usepackage[parfill]{parskip} % Activate to begin paragraphs with an empty line rather than an indent

%%% PACKAGES
\usepackage{booktabs} % for much better looking tables
\usepackage{array} % for better arrays (eg matrices) in maths
\usepackage{paralist} % very flexible & customisable lists (eg. enumerate/itemize, etc.)
\usepackage{verbatim} % adds environment for commenting out blocks of text & for better verbatim
\usepackage{subfig} % make it possible to include more than one captioned figure/table in a single float
% These packages are all incorporated in the memoir class to one degree or another...

%%% HEADERS & FOOTERS
\usepackage{fancyhdr} % This should be set AFTER setting up the page geometry
\pagestyle{fancy} % options: empty , plain , fancy/
\renewcommand{\headrulewidth}{0pt} % customise the layout...
\lhead{}\chead{}\rhead{}
\lfoot{}\cfoot{\thepage}\rfoot{}

%%% SECTION TITLE APPEARANCE
\usepackage{sectsty}
%\allsectionsfont{\sffamily\mdseries\upshape} % (See the fntguide.pdf for font help)
% (This matches ConTeXt defaults)

%%% ToC (table of contents) APPEARANCE
\usepackage[nottoc,notlof,notlot]{tocbibind} % Put the bibliography in the ToC
\usepackage[titles,subfigure]{tocloft} % Alter the style of the Table of Contents
\renewcommand{\cftsecfont}{\rmfamily\mdseries\upshape}
\renewcommand{\cftsecpagefont}{\rmfamily\mdseries\upshape} % No bold!

% JPR added
\usepackage{fontawesome}
\usepackage{amsfonts}
%\usepackage{amsmath}
\usepackage{mathtools}% includes amsmath
\usepackage{changepage}
\usepackage{enumerate}
%\usepackage{setspace}
\usepackage{relsize}
\usepackage{wasysym}
%\usepackage{romannum}
 
\usepackage[pdftex,
            pdfauthor={James Philip Rowell},
            pdftitle={\jobname},
            pdfsubject={Proof of Chapter 1, Miscellaneous Examples, Number 2 from G.H. Hardy `A Course of Pure Mathematics'.},
            pdfkeywords={rational numbers, theorem, proof, mathematics, number theory, factorial, factoradic, Hardy, Examples, A Course of Pure Mathematics},
            pdfproducer={Latex},
            pdfcreator={miktex or pdflatex}]{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=black,
    filecolor=magenta,      
    urlcolor=blue,
}
\usepackage{hyperxmp}
\hypersetup{
    pdfauthor={James Philip Rowell},
    pdfcopyright={Copyright  2018 by James Philip Rowell. All rights reserved.}
}
\usepackage{lipsum}

\newenvironment{jprIn}{\begin{adjustwidth}{2em}{}}{\end{adjustwidth}}
\addtolength{\skip\footins}{6pt}

\usepackage{alphalph}
\makeatletter
\newalphalph{\fnsymbolwrap}[wrap]{\@fnsymbol}{}
\makeatother
\renewcommand*{\thefootnote}{%
  \fnsymbolwrap{\value{footnote}}%
}

\usepackage{perpage}
\MakePerPage{footnote}

\DeclarePairedDelimiter\abs{\lvert}{\rvert}

%%% END Article customizations

\author{James Philip Rowell}
\title{\vspace{-1.5cm}Factoradic Representation of Rational Numbers}
\date{} % Activate to display a given date or no date (if empty), otherwise the current date is printed 
\begin{document}
\maketitle
\begin{em}
\centerline{\small{}From `A Course of Pure Mathematics' by G. H. Hardy. Chapter 1, Miscellaneous Examples.}
%\par
%\setlength{\parskip}{0pt}
\end{em}
%\normalsize
\bigskip

Miscellaneous example\footnote{Hardy doesn't call them `Exercises' or `Questions', but that's what they
are, math exercises for the student, like calculations to perform, theorems to prove etc.} \#2 at the end
of chapter 1 in Hardy's `Pure Mathematics'
presents us with a fascinating result (which was new to me).
The theorem feels like what the `\href {https://www.dropbox.com/s/bwmrffmkcidnf27/basisReprThm.pdf?dl=0}
{basis-representation-theorem}'
is for integers, but this one is for rational numbers, \dots{} beautiful!

\section*{Factorial Representation Theorem\footnote{...it's not named in the text but what I'm calling the theorem!}}

Any positive rational number can be expressed in one and only one way in the form
{\small
\bgroup                                  %% open the group
\setlength{\abovedisplayskip}{0pt}       %% effective inside the group    
\begin{center}
\begin{equation*}
a_1 + \frac{a_2}{1\cdot{}2}
+ \frac{a_3}{1\cdot{}2\cdot{}3}
+ \dots{}
+ \frac{a_k}{1\cdot{}2\cdot{}3\cdot{}\dots{}\cdot{}k},
\end{equation*}
\end{center}
\egroup
}

where \(a_1, a_2, \dots{}, a_k\) are integers, and

{\small
\begin{center}
\(0\le{}a_1,\quad 0\le{}a_2<2,\quad 0\le{}a_3<3,\quad \dots{},\quad 0<a_k<k\)
\end{center}
}

\section*{Observations that lead to the proof.}

% The first thing to note are the ranges of the coefficients \(a_1, a_2, a_3, \dots{}, a_k\).

% The first one, \(a_1\), is just a plain-old non-negative integer.

We know that any rational number\footnote{Every variable,
coefficient or constant (eg. \(a_1, a_k, m, n, i, p, q\)) in this
paper is going to represent a non-negative integer. We aren't dealing with `real numbers' here, just
rational numbers which we will always discuss in terms of one integer divided
by another integer, like \(\frac{p}{q}\).}, say \(\frac{m}{q}\), can be written as an
integer part,
\(i\), PLUS a fractional part, \(\frac{p}{q}\), such that
\(\frac{m}{q} = i + \frac{p}{q}\), where \(0 \le{} \frac{p}{q} < 1\) (note that \(i\) can be zero).

So if we're trying to represent any positive rational number \(\frac{m}{q}\) in terms
of the theorem then the \(a_1\) term
wants to play the role of the integer part, \(i\),
and the remainder of the expression \(\frac{a_2}{2!} + \frac{a_3}{3!} + \dots{} + \frac{a_k}{k!}\)
looks to be playing the roll of the rational part, \(\frac{p}{q}\), such that,

{\small
\bgroup                                  %% open the group
\setlength{\abovedisplayskip}{0pt}       %% effective inside the group    
\begin{center}
\begin{equation*}
0 \le{} 
\frac{a_2}{2!}
+ \frac{a_3}{3!}
+ \dots{}
+ \frac{a_k}{k!}
< 1
\end{equation*}
\end{center}
\egroup
}

It seemed to me a good idea to forget about the \(a_1\) term
and just focus on the \(a_2, a_3, \dots{}, a_k\) terms.
In other words,
prove the theorem for rational numbers \(\frac{p}{q}\),
such that \(0 \le{} \frac{p}{q} < 1\), then it would be trivial to extend it to ALL rational numbers
by tacking the \(a_1\) term back on at the end of the proof.
Also, it started to become clear that including zero (that is, not JUST positive rational numbers) was
going to simplify the task\footnote{Did you notice how the theorem restricts the last term, \(a_k\), to
be strictly greater than zero, unlike all the other terms? We loosen up that
restriction allow \(a_k\) to be equal to zero so all the terms are treated the same. At the very end of the
proof it's trivial to reintroduce that restriction on the \(a_k\) term.}.

At first glance it wasn't remotely obvious to me how I'd go about finding such
an assignment of coefficients \(a_2, a_3, \dots{}, a_k\) for a given rational number
\(\frac{p}{q}\), such that
\(0 \le{} \frac{p}{q} < 1\),
let alone that it would be unique.

After playing around for a good chunk of time, and finally figuring out
a way to calculate the \(a_i\) terms
for a given rational number \(\frac{p}{q}\), a few thing started to jump out at me.
For starters look at these particular rational numbers,

{\small
\bgroup
\setlength{\abovedisplayskip}{0pt}
\setlength{\belowdisplayskip}{0pt}
\begin{gather*}
\frac{1}{2}
= \frac{1}{1\cdot{}2}
= \frac{2!-1}{2!}\\
\frac{5}{6}
= \frac{1}{1\cdot{}2}
+ \frac{2}{1\cdot{}2\cdot{}3}
= \frac{1\cdot{}3}{1\cdot{}2\cdot{}3}
+ \frac{2}{1\cdot{}2\cdot{}3}
= \frac{3+2}{6}
= \frac{3!-1}{3!}\\
\frac{23}{24}
= \frac{1}{1\cdot{}2}
+ \frac{2}{1\cdot{}2\cdot{}3}
+ \frac{3}{1\cdot{}2\cdot{}3\cdot{}4}
= \frac{1\cdot{}3\cdot{}4}{1\cdot{}2\cdot{}3\cdot{}4}
+ \frac{2\cdot{}4}{1\cdot{}2\cdot{}3\cdot{}4}
+ \frac{3}{1\cdot{}2\cdot{}3\cdot{}4}
= \frac{12+8+3}{24}
= \frac{4!-1}{4!}
\end{gather*}
\egroup
}

Good clue! It seemed to be the case
that if we assign the largest possible values to the coefficients,
from \(a_2\) up to say \(a_k\) we get this rational number, \(\frac{k!-1}{k!}\).
This number is as close to 1 as you can get with a denominator of \(k!\) without actually
hitting 1. (Check it out - what happens if you add \(\frac{1}{k!}\) to \(\frac{k!-1}{k!}\)?)
This turned out to be
a pretty useful observation, and it became my `Lemma-1' in the proof below.

Also, if we assign zeros to all the coefficients then naturally we get \(\frac{0}{k!}\).

So we we restrict ourselves to using only \(a_2, a_3, \dots{}, a_k\), then
can generate the smallest rational number (\(\frac{0}{k!}\)) and the largest
(\(\frac{k!-1}{k!}\)) such that 
\(0 \le{} \frac{a_2}{2!} + \frac{a_3}{3!} + \dots{} + \frac{a_k}{k!} < 1\).

One further observation to help understand the motivation
behind this proof is that by using combinatorics we can
count how many possible combinations of \(a_i\)'s there are.
So, we have two choices for the \(a_2\) term (0, 1), combined with three choices for the \(a_3\) term (0, 1, 2),
combined with four choices for the \(a_4\) term (0, 1, 2, 3), \dots{} combined with \(k\) choices for
the \(a_k\) term (0, 1, 2, \dots{}, \(k\!-\!1\)), that
gives us \(2\cdot{}3\cdot{}4\cdot{}\cdot{}\cdot{}k = k!\) possibly different sums.

Hmmmmm, the following set has \(k!\) members,
\(\{\frac{0}{k!},\enspace \frac{1}{k!},\enspace \frac{2}{k!},\enspace \dots{},\enspace \frac{k!-1}{k!}\}\).
So that, plus one or two other thoughts is what lead me to the proof below. I won't spoil the rest of it,
to find out, go ahead and read the rest of the paper!

\section*{Definitions}

{\small
\bgroup                                  %% open the group
\setlength{\abovedisplayskip}{0pt}
\begin{center}
\begin{gather*}
\mathcal{S}_k = \{\frac{a_2}{2!} + \frac{a_3}{3!} + \dots{} + \frac{a_k}{k!}\enspace\mid\enspace 
0\! \le{}\! a_2\! <\! 2,\enspace 
0\! \le{}\! a_3\! <\! 3,\enspace 
\dots{},\enspace 0\! \le{}\! a_k\! <\! k\},\\
\mathcal{F}_k = \{\frac{0}{k!},\enspace \frac{1}{k!},\enspace \frac{2}{k!},\enspace \dots{},\enspace \frac{k!-1}{k!}\}
\end{gather*}
\end{center}
\egroup
}

\break
\section*{Lemma-1}
{\small
\bgroup                                  %% open the group
\setlength{\abovedisplayskip}{0pt}       %% effective inside the group    
\begin{center}
\begin{equation*}
\frac{1}{2!} + \frac{2}{3!} + \dots{} + \frac{k-1}{k!} = \frac{k!-1}{k!}
\end{equation*}
\end{center}
\egroup
}
\section*{Proof of Lemma-1}

This equality is fairly trivial to demonstrate by induction, since \(\frac{1}{2!} = \frac{2!-1}{2!}\) and, 
{\scriptsize
\begin{alignat*}{1}
  &\frac{1}{2!} + \frac{2}{3!} + \dots{} + \frac{k-2}{(k-1)!} + \frac{k-1}{k!}\\
  =\  &\frac{(k-1)!-1}{(k-1)!} + \frac{k-1}{k!}\\
  =\  &\frac{k((k-1)!-1)}{k(k-1)!} + \frac{k-1}{k!}\\
  =\  &\frac{k!-k+k-1}{k!}\\
  =\  &\frac{k!-1}{k!}
\end{alignat*}
}
\dots{}thus establishing lemma-1 for all values of k. QED

\section*{Lemma-2}

For integers \(i,k\) where \(2\le{}i<k\),

{\small
\bgroup                                  %% open the group
\setlength{\abovedisplayskip}{0pt}       %% effective inside the group    
\begin{center}
\begin{equation*}
\frac{1}{i!} > \frac{i}{(i+1)!}
+ \dots{}
+ \frac{k-1}{k!}
\end{equation*}
\end{center}
\egroup
}
\section*{Proof of Lemma-2}
{\small
\bgroup
\setlength{\abovedisplayskip}{0pt}
\setlength{\belowdisplayskip}{0pt}
\begin{alignat*}{2}
  &\frac{i}{(i+1)!} + \dots{} + \frac{k-1}{k!}\\
  =\  &(\frac{1}{2!} + \frac{2}{3!} + \dots{} + \frac{k-1}{k!})
  - (\frac{1}{2!} + \frac{2}{3!} + \dots{} + \frac{i-1}{i!})\quad&\\
  =\  &\frac{k!-1}{k!} - \frac{i!-1}{i!} &\text{(by lemma-1)}\\
  =\  &\frac{k!}{k!} - \frac{1}{k!} - \frac{i!}{i!} + \frac{1}{i!}\\
  =\  &\frac{1}{i!} - \frac{1}{k!}\\
  <\  &\frac{1}{i!}
\end{alignat*}
\egroup
}
%}\vspace{-4mm}
\begin{center}
QED
\end{center}
\section*{Lemma-3}

{\small
\bgroup                                  %% open the group
\setlength{\abovedisplayskip}{0pt}
\begin{center}
\begin{equation*}
\mathcal{S}_k = \mathcal{F}_k
\end{equation*}
\end{center}
\egroup
}

Corollary: For integers \(p, k\), where \(k \ge{} 2\), every rational number \(\frac{p}{k!}\), where \(0 \le{} \frac{p}{k!} < 1\),
there is a unique sequence of integers \(a_2, a_3, \dots{} a_k\) such that,

{\small
\bgroup                                  %% open the group
\setlength{\abovedisplayskip}{0pt}
\begin{center}
\begin{equation*}
\frac{p}{k!} = \frac{a_2}{2!} + \frac{a_3}{3!} + \dots{} + \frac{a_k}{k!},
\end{equation*}
\end{center}
\egroup
}

where \(0\! \le{}\! a_2\! <\! 2,\enspace 0\! \le{}\! a_3\! <\! 3,\enspace \dots{},\enspace 0\! \le{}\! a_k\! <\! k\).

\section*{Proof of Lemma-3}

It's clear that the set \(\mathcal{F}_k\) contains every rational number with denominator \(k!\)
where \(p\) is an integer and \mbox{\(0\le{}\frac{p}{k!}<1\)} and
that the size of \(\mathcal{F}_k\) is \(k!\, \). To show
that the set \(\mathcal{S}_k\) is the same
as \(\mathcal{F}_k\), it suffices to show that every member of \(\mathcal{S}_k\)
is also of the form \(0\le{}\frac{p}{k!}<1\), and that the size of \(\mathcal{S}_k\) is also \(k!\, \).

The smallest member of the set \(\mathcal{S}_k\) 
is \(\frac{0}{k!}\) and
occurs when all the coefficients of the sum are zero.
Furthermore, the largest member of the set occurs when all the coefficients of the sum are set to
their maximum value, which gives us \(\frac{k!-1}{k!}\) as shown in lemma-1.

We also note that every member of \(\mathcal{S}_k\) can be written as a rational number
with \(k!\) as the denominator, like so,

{\footnotesize
\bgroup                                  %% open the group
\setlength{\abovedisplayskip}{0pt}
\begin{center}
\begin{equation*}
\frac{a_2}{2!} + \frac{a_3}{3!} + \dots{} + \frac{a_{k-1}}{(k-1)!} + \frac{a_k}{k!}
= \frac{k\cdot{}(k-1)\cdot{}\cdot{}\cdot{}3\cdot{}a_2}{k!}
+ \frac{k\cdot{}(k-1)\cdot{}\cdot{}\cdot{}4\cdot{}a_2}{k!}
+ \dots{}
+ \frac{k\cdot{}a_{k-1}}{k!}
+ \frac{a_k}{k!}
\end{equation*}
\end{center}
\egroup
}

Therefore any member of the set \(\mathcal{S}_k\) is of the form \(0\le{}\frac{p}{k!}<1\),
where \(p\) in some integer in the range \(0\le{}p\le{}k!-1\).

Furthermore, each possible assignment of values to the coefficients of
\(\frac{a_2}{2!} + \frac{a_3}{3!} + \dots{} + \frac{a_k}{k!}\)
produce a unique member of the set \(\mathcal{S}_k\).

For if this weren't true and both
\(\frac{p}{k!} = \frac{a_2}{2!} + \frac{a_3}{3!} + \dots{} + \frac{a_k}{k!}\) and
\(\frac{p}{k!} = \frac{b_2}{2!} + \frac{b_3}{3!} + \dots{} + \frac{b_k}{k!}\)
for different coefficients \(a_2, a_3, \dots{}, a_k\)
and \(b_2, b_3, \dots{}, b_k\), then we can arrive at a contradiction as follows.

First suppose that \(a_i\ne{}b_i\) is the first such pair of coefficients
that differ from each other. In other words, \(a_2=b_2, a_3=b_3, \dots{}, a_{i-1}=b_{i-1}\).
Also, without loss of generality we can assume that \(a_i > b_i\) and state the following equality:

{\normalsize
\bgroup
\setlength{\abovedisplayskip}{0pt}
\setlength{\belowdisplayskip}{0pt}
\begin{alignat*}{3}
  &&\frac{a_i}{i!} + \frac{a_{i+1}}{(i+1)!} + \dots{} + \frac{a_k}{k!}
  &= \frac{b_i}{i!} + \frac{b_{i+1}}{(i+1)!} + \dots{} + \frac{b_k}{k!}\\
  &\Leftrightarrow\quad &\frac{a_i - b_i}{i!}
  &= \frac{b_{i+1} - a_{i+1}}{(i+1)!} + \dots{} + \frac{b_k - a_k}{k!}
\end{alignat*}
\egroup
}%\vspace{-4mm}

Since \(a_i - b_i \ge{} 1\), then \(\frac{a_i - b_i}{i!} \ge{} \frac{1}{i!}\).

Also,
\(\frac{i}{(i+1)!} + \dots{} + \frac{k-1}{k!} \ge{} \frac{b_{i+1} - a_{i+1}}{(i+1)!} + \dots{} + \frac{b_k - a_k}{k!}\)
regardless of the values of the coefficients
on the right side of the inequality\footnote{Letting all the \(b\)'s be their maximum value,
and all the \(a\)'s be zero will produce the largest numerators in each term of the sum, any other possibility will result in a smaller term for the sum.}.

However, lemma-2 tells us,\par
\begin{center}
\(\frac{a_i - b_i}{i!} \ge{} \frac{1}{i!} > \frac{i}{(i+1)!} + \dots{} + \frac{k-1}{k!} \ge{} \frac{b_{i+1} - a_{i+1}}{(i+1)!} + \dots{} + \frac{b_k - a_k}{k!}\),
\end{center}\par
demonstrating that equality between the two expressions at either end of the inequality
is impossible, so our assumption that there can be a second set
of coefficients to produce the same rational number \(\frac{p}{k!}\) is false.
Therefore any assignment of values to the coefficients of
\(\frac{a_2}{2!} + \frac{a_3}{3!} + \dots{} + \frac{a_k}{k!}\)
produces a unique member of the set \(\mathcal{S}_k\).

Now we can count the number of members of the set \(\mathcal{S}_k\), by looking at all the
possible combinations of values for the coefficients \(a_2, a_3, \dots{}, a_k\).
There are 2 choices for the coefficient \(a_2\),
multiplied by the 3 choices for \(a_3\),
multiplied by the 4 choices for \(a_4\),
\dots{},
up to multiplying by \(k\) values that \(a_k\) can assume.

Therefore the total number of combinations of values
that can be assigned to all the coefficients of \(\frac{a_2}{2!} + \frac{a_3}{3!} + \dots{} + \frac{a_k}{k!}\)
is \(2\cdot{}3\cdot{}4\cdot\cdot{}\cdot{}k = k!\,\),
which means the size of the set \(\mathcal{S}_k\) is \(k!\, \). Recalling our previous conclusion that
all members of the set \(\mathcal{S}_k\) are of the form \(0\le{}\frac{p}{k!}<1\) we
can assert that \(\mathcal{S}_k = \mathcal{F}_k\).

Furthermore we've shown above that there is a unique sequence of integers \(a_2, a_3, \dots{} a_k\),
(with the appropriate ranges of values for each integer
and \(\frac{a_2}{2!} + \frac{a_3}{3!} + \dots{} + \frac{a_k}{k!}\))
for each value of \(\frac{p}{k!} \in \mathcal{F}_k\).\qquad QED

\section*{Corollary to Lemma-3}

If \(\frac{p}{q} \in{} \mathcal{S}_k\)
then there is a unique sequence of integers
\(0\le{}a_2<2,\quad 0\le{}a_3<3,\quad \dots{},\quad 0<a_k<k\)
such that
\(\frac{p}{q} = \frac{a_2}{2!} + \frac{a_3}{3!} + \dots{} + \frac{a_k}{k!}\).

\section*{Proof of Corollary to Lemma-3}

Apart from the fact that this was part of the proof of lemma-3
The immediately follows from lemma-3 because the sets \(\mathcal{S}_k\) and \(\mathcal{S}_k\) 
are identical and there are k! possible combinations of 
coefficients, one for each of the k! unique members of the set \(\mathcal{F}_k\).

% This fact was used in the proof of lemma-3 to show the one-to-one
% correspondence between \(\mathcal{S}_k\) and \(\mathcal{F}_k\), but
% more simply, every element of \(\mathcal{F}_k\) is clearly unique so each different
% sequence of coefficients are associated with exactly one element in \(\mathcal{F}_k\), which
% proves the Corollary.

\section*{Lemma-4}

If \(\frac{p}{q} \in{} \mathcal{S}_k\) then \(\frac{p}{q} \in{} \mathcal{S}_n\) for all \(n \ge{} k\).
Furthermore, the sum associated with \(\frac{p}{q}\) is unchanged for all \(\mathcal{S}_n\),
which implies that the sum is uniquely associated with \(\frac{p}{q}\).

\section*{Proof Lemma-4}

%It is easy to see by lemma-4 that
%since \(\frac{p'}{j} \in{} \mathcal{S}_k\)
%when \(2 \le{} j < k\), then by extension if \(k < n\)
%then \(\frac{p}{k} \in{} \mathcal{S}_n\), but more generally,
%
if \(\frac{p}{q} \in{} \mathcal{S}_k\) then by the corollary to lemma-3 there is a unique sequence 
of integers,\newline
{\small \(0\le{}a_2<2,\quad 0\le{}a_3<3,\quad \dots{},\quad 0<a_k<k\)}
such that,

{\small
\bgroup                                  %% open the group
\setlength{\abovedisplayskip}{0pt}
\begin{alignat*}{1}
\frac{p}{q} &= \frac{a_2}{2!} + \frac{a_3}{3!} + \dots{} + \frac{a_k}{k!}\\
\frac{p}{q} &= \frac{a_2}{2!} + \frac{a_3}{3!} + \dots{} + \frac{a_k}{k!} + \frac{0}{(k+1)!} + \dots{} + \frac{0}{n!}\\
\frac{p}{q} &= \frac{a_2}{2!} + \frac{a_3}{3!} + \dots{} + \frac{a_k}{k!} + \frac{a_{k+1}}{(k+1)!} + \dots{} + \frac{a_n}{n!}\\
0 &\le{} a_2 < 2,\enspace 0 \le{} a_3 < 3, \dots{}, 0 \le{} a_k < k, a_{k+1} = 0, \dots{}, a_n = 0.
\end{alignat*}
\egroup
}

Therefore, \(\frac{p}{q} \in{} \mathcal{S}_n\) for all \(n \ge{} k\), also demonstrating
that the sum for \(\frac{p}{q}\) is the same for all \(n \ge{} k\), establishing it's unique
association with \(\frac{p}{q}\).

\section*{Theorem (restated)}

Any positive rational number can be expressed in one and only one way in the form

{\small
\bgroup                                  %% open the group
\setlength{\abovedisplayskip}{0pt}       %% effective inside the group    
\begin{center}
\begin{equation*}
a_1 + \frac{a_2}{1\cdot{}2}
+ \frac{a_3}{1\cdot{}2\cdot{}3}
+ \dots{}
+ \frac{a_k}{1\cdot{}2\cdot{}3\cdot{}\dots{}\cdot{}k},
\end{equation*}
\end{center}
\egroup
}

where \(a_1, a_2, \dots{}, a_k\) are integers, and

{\small
\begin{center}
\(0\le{}a_1,\quad 0\le{}a_2<2,\quad 0\le{}a_3<3,\quad \dots{},\quad 0<a_k<k\)
\end{center}
}

\section*{Proof of Theorem}

Thanks to Euclid we know that for all integers \(j\ge{}0\) and \(q>0\),
there exist unique integers \(i\) and \(p\) such that,

{\normalsize
\bgroup                                  %% open the group
\setlength{\abovedisplayskip}{0pt}       %% effective inside the group
\begin{alignat*}{3}
&&j = i\cdot{}q + p\ &;\quad 0\le{}p<q \\
&\Leftrightarrow\quad &\frac{j}{q} = i + \frac{p}{q}\ &;\quad 0\le{}\frac{p}{q}<1
\end{alignat*}
\egroup
}

Which tells us that all rational numbers \(\frac{j}{q}\) can be written as
an integer part, \(i\), plus a fractional part \(0\le{}\frac{p}{q}<1\).

In our theorem, the \(a_1\) coefficient plays the role of the integer part \(i\),
and the rest of the expression, \(\frac{a_2}{2!} + \frac{a_3}{3!} + \dots{} + \frac{a_k}{k!}\)
plays the role of the fractional part \(0\le{}\frac{p}{q}<1\).

Therefore to express any rational number in the form of the theorem, first apply the
Euclidean Division Theorem to \(\frac{j}{q}\) and let \(a_1 = i\). If there is no fractional remainder, then
the theorem is trivially true,
however if there is a fractional remainder \(\frac{p}{q}\), then it is a member of all sets \(\mathcal{S}_n\)
such that \(n \ge{} q\).

We take for the coefficients \(a_2, a_3, \dots{}, a_k\) in the sum for \(\frac{p}{q} \in{} \mathcal{S}_n\)
all those for which \(a_k \ne{} 0\) but \(a_{k+1} = a_{k+2} = \dots{} = a_n = 0\).

By lemma-5 we know that the sum \(\frac{p}{q} = \frac{a_2}{2!} + \frac{a_3}{3!} + \dots{} + \frac{a_k}{k!}\) is
uniquely associated
with \(\frac{p}{q}\)
then clearly \(\frac{j}{q} = a_1 + \frac{a_2}{2!} + \frac{a_3}{3!} + \dots{} + \frac{a_k}{k!}\)
is uniquely associated with all rational numbers \(\frac{j}{q}\).

QED

\section*{Additional Observations}

While it's true that \(\frac{p}{q} \in{} \mathcal{S}_q\), \(\mathcal{S}_q\) is not necessarily 
the smallest such set for which \(\frac{p}{q}\) is a member.

For example,
the smallest set containing \(0 \le{} \frac{p}{5} < 1\) is \(\mathcal{S}_5\)
however
the smallest set containing \(0 \le{} \frac{p}{6} < 1\) is \(\mathcal{S}_3\).

Which is easy to see when we list the contents of a couple of sets,
%  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19 20, 21, 22, 23
% 24, 24, ...
%  1   1   1   1   5   1   7   1   3   5  11   1  13   7   5   2  17   3  19  5   7  11  23
% 24  12   8   6  24   4  24   3   8  12  24   2  24  12   8   3  24   4  24  6   8  12  24

{\footnotesize
\bgroup                                  %% open the group
\setlength{\abovedisplayskip}{0pt}
\begin{alignat*}{1}
\mathcal{S}_4 &= \{
\frac{ 0}{24},
\frac{ 1}{24},
\frac{ 2}{24},
\frac{ 3}{24},
\frac{ 4}{24},
\frac{ 5}{24},
\frac{ 6}{24},
\frac{ 7}{24},
\frac{ 8}{24},
\frac{ 9}{24},
\frac{10}{24},
\frac{11}{24},
\frac{12}{24},
\frac{13}{24},
\frac{14}{24},
\frac{15}{24},
\frac{16}{24},
\frac{17}{24},
\frac{18}{24},
\frac{19}{24},
\frac{20}{24},
\frac{21}{24},
\frac{22}{24},
\frac{23}{24}
\} \\
&= \{
\frac{ 0}{24},
\frac{ 1}{24},
\frac{ 1}{12},
\frac{ 1}{ 8},
\frac{ 1}{ 6},
\frac{ 5}{24},
\frac{ 1}{ 4},
\frac{ 7}{24},
\frac{ 1}{ 3},
\frac{ 3}{ 8},
\frac{ 5}{12},
\frac{11}{24},
\frac{ 1}{ 2},
\frac{13}{24},
\frac{ 7}{12},
\frac{ 5}{ 8},
\frac{ 2}{ 3},
\frac{17}{24},
\frac{ 3}{ 4},
\frac{19}{24},
\frac{ 5}{ 6},
\frac{ 7}{ 8},
\frac{11}{12},
\frac{23}{24}
\}
\end{alignat*}
\egroup
}

Which clearly doesn't contain \(\frac{1}{5}\). We've established
that \(\frac{1}{5}\) is definitely in \(\mathcal{S}_5\) but it's interesting to see what it looks like:

{\small
\bgroup                                  %% open the group
\setlength{\abovedisplayskip}{0pt}       %% effective inside the group    
\begin{center}
\begin{equation*}
\frac{1}{5}
= \frac{0}{2}
+ \frac{1}{2\cdot{}3}
+ \frac{0}{2\cdot{}3\cdot{}4}
+ \frac{4}{2\cdot{}3\cdot{}4\cdot{}5}
= \frac{1}{6} + \frac{1}{30}
= \frac{5 + 1}{30}
= \frac{6}{30}
= \frac{1}{5}
\end{equation*}
\end{center}
\egroup
}

Also, \(
\mathcal{S}_3
= \{
\frac{ 0}{6},
\frac{ 1}{6},
\frac{ 2}{6},
\frac{ 3}{6},
\frac{ 4}{6},
\frac{ 5}{6}
\}
= \{
\frac{ 0}{6},
\frac{ 1}{6},
\frac{ 1}{3},
\frac{ 1}{2},
\frac{ 2}{3},
\frac{ 5}{6}
\}
\), which demonstrates the claim above that \(\mathcal{S}_3\) contains \(0 \le{} \frac{p}{6} < 1\).

I believe that for a given \(q \ge 2\) then the smallest set for which \(0 \le{} \frac{p}{q} < 1\)
are members is the set \(\mathcal{S}_k\) such that \(k\) is the smallest value for which
\(q\) divides \(k!\).

However, I'll leave that proof for another day.

\end{document}
