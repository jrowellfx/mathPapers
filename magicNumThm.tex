% !TEX TS-program = pdflatex
% !TEX encoding = UTF-8 Unicode

% This is a simple template for a LaTeX document using the "article" class.
% See "book", "report", "letter" for other types of document.

%\documentclass[11pt]{article} % use larger type; default would be 10pt
\documentclass{article}

\usepackage[utf8]{inputenc} % set input encoding (not needed with XeLaTeX)

%%% Examples of Article customizations
% These packages are optional, depending whether you want the features they provide.
% See the LaTeX Companion or other references for full information.

%%% PAGE DIMENSIONS
\usepackage{geometry} % to change the page dimensions
\geometry{letterpaper} % or letterpaper (US) or a5paper or....
\geometry{margin=1.35in} % for example, change the margins to 2 inches all round
% \geometry{margin=2in} % for example, change the margins to 2 inches all round
% \geometry{landscape} % set up the page for landscape
% read geometry.pdf for detailed page layout information

\usepackage{graphicx} % support the \includegraphics command and options

\usepackage[parfill]{parskip} % Activate to begin paragraphs with an empty line rather than an indent

%%% PACKAGES
\usepackage{booktabs} % for much better looking tables
\usepackage{array} % for better arrays (eg matrices) in maths
\usepackage{paralist} % very flexible & customisable lists (eg. enumerate/itemize, etc.)
\usepackage{verbatim} % adds environment for commenting out blocks of text & for better verbatim
\usepackage{subfig} % make it possible to include more than one captioned figure/table in a single float
% These packages are all incorporated in the memoir class to one degree or another...

%%% HEADERS & FOOTERS
\usepackage{fancyhdr} % This should be set AFTER setting up the page geometry
\pagestyle{fancy} % options: empty , plain , fancy/
\renewcommand{\headrulewidth}{0pt} % customise the layout...
\lhead{}\chead{}\rhead{}
\lfoot{}\cfoot{\thepage}\rfoot{}

%%% SECTION TITLE APPEARANCE
\usepackage{sectsty}
%\allsectionsfont{\sffamily\mdseries\upshape} % (See the fntguide.pdf for font help)
% (This matches ConTeXt defaults)

%%% ToC (table of contents) APPEARANCE
\usepackage[nottoc,notlof,notlot]{tocbibind} % Put the bibliography in the ToC
\usepackage[titles,subfigure]{tocloft} % Alter the style of the Table of Contents
\renewcommand{\cftsecfont}{\rmfamily\mdseries\upshape}
\renewcommand{\cftsecpagefont}{\rmfamily\mdseries\upshape} % No bold!

% JPR added
\usepackage{fontawesome}
\usepackage{amsfonts}
%\usepackage{amsmath}
\usepackage{mathtools}% includes amsmath
\usepackage{changepage}
\usepackage{enumerate}
%\usepackage{setspace}
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=blue,
}

\newenvironment{jprIn}{\begin{adjustwidth}{2em}{}}{\end{adjustwidth}}

\addtolength{\skip\footins}{6pt}

\usepackage{alphalph}
\makeatletter
\newalphalph{\fnsymbolwrap}[wrap]{\@fnsymbol}{}
\makeatother
\renewcommand*{\thefootnote}{%
  \fnsymbolwrap{\value{footnote}}%
}

\usepackage{perpage}
\MakePerPage{footnote}

%%% END Article customizations

%%% The "real" document content comes below...

\title{Magic Numbers}
\author{James Rowell}
%\date{} % Activate to display a given date or no date (if empty),
% otherwise the current date is printed 

\begin{document}
\maketitle
%\bigskip



In the delightful film ``\href{https://en.wikipedia.org/wiki/School_of_Rock}{School of Rock}'' Jack Black's character Dewey Finn,
pretending to be substitute teacher Ned Schneebly, is put on the spot when
Miss. Mullins, the school principle, comes into class and demands that he show
her his teaching methods which apparently involve an electric guitar.
So ``Mr. S'' sings ``\href{https://www.youtube.com/watch?v=aa8U0nL-KXg}{The Math Song}'' - in the final line of his
improvised tune he sings ``...yes it's 9, and that's a magic number...''

He's right - he's referring to the fact that if you add up the digits of
any number then if that sum is divisible by 9, then the original number
must be divisible by 9. It works the other way too, that is, if we know
that a number is divisible by 9 then the sum of its digits must also be
divisible by 9.

For example:
\begin{jprIn}
$9^5=59049$ and $5+9+0+4+9=27$ and 9 divides 27 because $27 = 3\times{}9$.
\end{jprIn}

9 is a magic number in base-ten but if we used another
base, say 8, then 7 is a magic number. 4 is a magic number
in base-5; 15 is a magic number in base-16; and 30 is a magic number in base-31.
The pattern being that one-less-than the base, is a magic number.

Let's look at a couple of examples\footnote{We are going to use the conventions for specifying
numbers in alternate bases as outlined on page 7 of the paper entitled ``Sesame Street++''  by James Rowell.}.
\begin{itemize}
\item $7\times{}7=49$ written in base-8 is $(61)_8$ and $6+1=7$.
\item $7^3\times{}5=1715$ written in base-8 is $(3263)_8$ and $3+2+6+3=14$ (7 divides 14).
\item $4\times{}67=268$ written in base-5 is $(2033)_5$ and $2+0+3+3=8$ (4 divides 8).
\item $15\times{}23=345$ written in base-16 is $(159)_{16}$ and $1+5+9=15$.
\item $30\times{}29\times{}113=98310$ written in base-31 is $(3999)_{31}$ and $3+9+9+9=30$
\end{itemize}

But what about this example?
\[ 3\times{}67=201 \text{ and } 2+0+1=3\]
Clearly 9 does not divide 201\footnote{Why is it immediately apparent that 9 does not divide 201? Hint: both 3 and 67 are prime numbers.
Google the ``Fundamental Theorem of Arithmetic''.}
but 3 does divide 201. It's also the case that adding up the digits of 201 gives us 3, which is trivially divisible by three.
So, we can also call 3 a magic number in base 10.
That is; the sum of the digits of any number is divisible by 3
if and only if that original number is divisible by 3.

\break
Let's look at another few examples, in base-31.
\begin{itemize}
\item $2\times{}13\times{}37=962$ written in base-31 is $(101)_{31}$ and $1+0+1=2$.
\end{itemize}



2, 3, 5, 6, 10, 15 and 30 are all magic numbers in base-31.

See the pattern? It looks like any divisors of the biggest numeral in our base are magic numbers.

What about 1? Isn't 1 a magic number in all bases?
Since we already know that all numbers are divisible by 1,
then we don't need to go to any trouble of adding up digits to find this out.
So let's exclude 1 from being considered as a magic number. (Akin to 1 not being a prime number).

Here's a precise statement defining a magic number
m for any base-N and declaring what its properties are:

``Magic Number'' Theorem:

Let m,N ? Z+and let m be a divisor of N-1.

Then any integer represented in base-N is divisible by m
if and only if the sum of its digits (in base-N)
is divisible by m.
Let's define all such m?1 as a 'magic number'.

As an interesting side note - according to our definition, binary,
or base-2, doesn't have a magic number.
No great loss, as we said above 1 isn't helpful to consider as a magic number. 

Let's look at the definition of a number represented in a given base.

...wip…
break down what a number is (refer to baseTheorem paper) and explain motivation for mod

We assume the following properties of modular arithmetic where a,b,c ? Zsuch that c>1.

(a+b) mod c=(a mod c+b mod c) mod c
ab mod c=((a mod c)·(b mod c)) mod c

As a generalization of 2), we get:

3) a mod c=b mod c akmod c=bk mod c

Importantly, a mod c=0 c divides a.

In other words, there exists a number n such that nc=a.
Lemma:
if d>1 is a divisor of m then:
(m+1)k mod d=1
Proof of Lemma:
Let d be a divisor of m. Soc such that cd=m.
Hence, (cd + 1) mod d = cd mod d + 1 mod d
= (c mod d) (d mod d) + 1 mod d
= (c mod d) 0 + 1 mod d
= 1 mod d
By property 3) above, since (cd+1) mod d=1 mod d then:
(m + 1)k mod d
= (cd + 1)k mod d
= (cd+1) mod d
= 1
QED

Proof of ``Magic Number'' Theorem:

Let N=M+1.

That is; we are going to consider representations of numbers in base-M+1, so think of M as our magic number.

Also let M=1, so our smallest possible base will be 2.
Then every integer n is uniquely expressible in base-M+1 as follows:
n=ak(M+1)k+ak-1(M+1)k-1+?+a2(M+1)2+a1(M+1)+a0
where 0=ai=M for all the ``digits'' ai where 0=i=k.
n is divisible by M if and only if n mod M=0. 
Substitute the base-M+1 expression of n into the above relationship, therefor
0=(ak(M+1)k+ak-1(M+1)k-1+?+a2(M+1)2+a1(M+1)+a0)mod M


\section*{TEST}

\begin{jprIn}
Let $n,k\in \mathbb{Z}_{\ge 0}$. Then every $n$ can be uniquely expressed as follows:

\hspace{3em}$n=d_k10^k+d_{k-1}10^{k-1}+\dots+d_210^2+d_110^1+d_010^0$

for some $k$ such that $0 \le d_i \le 9$ where $d_i,i\in\mathbb{Z}$ and $0 \le i \le k$.

Furthermore $d_k\ne0$ except when $n=0$.

Definition: $n$ is represented in base-ten as $d_kd_{k-1}\dots{}d_2d_1d_0$
\end{jprIn}
\bigskip


\end{document}
