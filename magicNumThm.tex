\documentclass{article}

\usepackage[utf8]{inputenc} % set input encoding (not needed with XeLaTeX)

%%% PAGE DIMENSIONS
\usepackage{geometry} % to change the page dimensions
\geometry{letterpaper} % or letterpaper (US) or a5paper or....
\geometry{margin=1.35in} % for example, change the margins to 2 inches all round

\usepackage{graphicx} % support the \includegraphics command and options

\usepackage[parfill]{parskip} % Activate to begin paragraphs with an empty line rather than an indent

%%% PACKAGES
\usepackage{booktabs} % for much better looking tables
\usepackage{array} % for better arrays (eg matrices) in maths
\usepackage{paralist} % very flexible & customisable lists (eg. enumerate/itemize, etc.)
\usepackage{verbatim} % adds environment for commenting out blocks of text & for better verbatim
\usepackage{subfig} % make it possible to include more than one captioned figure/table in a single float
% These packages are all incorporated in the memoir class to one degree or another...

%%% HEADERS & FOOTERS
\usepackage{fancyhdr} % This should be set AFTER setting up the page geometry
\pagestyle{fancy} % options: empty , plain , fancy/
\renewcommand{\headrulewidth}{0pt} % customise the layout...
\lhead{}\chead{}\rhead{}
\lfoot{}\cfoot{\thepage}\rfoot{}

%%% SECTION TITLE APPEARANCE
\usepackage{sectsty}
%\allsectionsfont{\sffamily\mdseries\upshape} % (See the fntguide.pdf for font help)
% (This matches ConTeXt defaults)

%%% ToC (table of contents) APPEARANCE
\usepackage[nottoc,notlof,notlot]{tocbibind} % Put the bibliography in the ToC
\usepackage[titles,subfigure]{tocloft} % Alter the style of the Table of Contents
\renewcommand{\cftsecfont}{\rmfamily\mdseries\upshape}
\renewcommand{\cftsecpagefont}{\rmfamily\mdseries\upshape} % No bold!

% JPR added
\usepackage{fontawesome}
\usepackage{amsfonts}
\usepackage{amssymb}
%\usepackage{amsmath}
\usepackage{mathtools}% includes amsmath
\usepackage{changepage}
\usepackage{enumerate}
%\usepackage{setspace}
\usepackage{relsize}
\usepackage{wasysym}
%\usepackage{romannum}
 
\usepackage[pdftex,
            pdfauthor={James Philip Rowell},
            pdftitle={\jobname},
            pdfsubject={Magic Numbers},
            pdfkeywords={decimal, base-ten, binary, base-two, integers,
	    theorem, proof, mathematics, number-theory, divisors, magic number},
            pdfproducer={Latex},
            pdfcreator={miktex or lualatex}]{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=black,
    filecolor=magenta,      
    urlcolor=blue,
}
\usepackage{hyperxmp}
\hypersetup{
    pdfauthor={James Philip Philip Rowell},
    pdfcopyright={Copyright  2017 by James Philip Rowell. All rights reserved.}
}
\usepackage{lipsum}

\newenvironment{jprIn}{\begin{adjustwidth}{2em}{}}{\end{adjustwidth}}

\addtolength{\skip\footins}{6pt}

\usepackage{alphalph}
\makeatletter
\newalphalph{\fnsymbolwrap}[wrap]{\@fnsymbol}{}
\makeatother
\renewcommand*{\thefootnote}{%
  \fnsymbolwrap{\value{footnote}}%
}

\usepackage{perpage}
\MakePerPage{footnote}

%%% END Article customizations

\title{Magic Numbers}
\author{James Philip Rowell}
%\date{} % Activate to display a given date or no date (if empty),
% otherwise the current date is printed 

\begin{document}
\maketitle
%\bigskip

In the delightful film ``\href{https://en.wikipedia.org/wiki/School_of_Rock}{School
of Rock}'' Jack Black's character
(pretending to be a substitute teacher) is put on the spot when
the school principle comes into class and demands that he show
her his teaching methods which involve an electric guitar.
So he sings ``\href{https://www.youtube.com/watch?v=aa8U0nL-KXg}{The
Math Song}'' wherein the final line of his
improvised tune is ``\dots{}yes it's 9, and that's a magic-number\dots{}''

It seems that Jack was tipping his hat
to the ``Schoolhouse Rock'' song ``\href{https://youtu.be/aU4pyiB-kq0}{3
Is A Magic Number}''
which most kids from the 70's/80's know -
However referring to 9 as a magic-number isn't
as well known\footnote{According to my own \emph{highly scientific}
informal poll conducted Facebook, %\today{}
``9'' is NOT the first thing that pops into people's heads when they
hear the phrase ``magic number'' - in fact no one answered ``9'' in my poll.}.

Mind you, it's not a total stretch, there is precedent
for using the term ``\href{http://mathworld.wolfram.com/MagicNumber.html}{Magic
Number}'' when referring to to the number 9.
There are a host of
\href{http://mathematics-in-europe.eu/?p=144}{mathematical-magic-tricks}
that rely on properties of the number 9.
There is also a process called
``\href{https://en.wikipedia.org/wiki/Casting_out_nines}{casting out nines}'' and a related one 
called calculating the
``\href{http://mathworld.wolfram.com/DigitalRoot.html}{digital root}''
for a number where you take its ``digital sum''. 9
plays a similar role in all these processes - so within these contexts sometimes 9
is referred to as a magic-number.

So the musical-math-lesson is legit, if Jack is referring to this fact about 9:
% \begin{enumerate}[i)]
% \item
% If you add up the digits of
% any number then if that sum is divisible by 9, then the original number
% must be divisible by 9.
% \item
% Conversely, if we know
% that a number is divisible by 9 then the sum of its digits must also be
% divisible by 9.
% \end{enumerate}
% \begin{enumerate}[i)]
% \item
\begin{center}
The sum of the digits of a number divisible by 9,
\break
if and only if,
\break
the original number
is divisible by 9.
\end{center}

For example:
\begin{jprIn}
$9^5=9\times{}9\times{}9\times{}9\times{}9=59049$
and $5+9+0+4+9=27$ and 9 divides 27 because $27 = 3\times{}9$.
\end{jprIn}

But 3 is also has this magic-number property, for example:
\[ 3\times{}67=201 \text{ and } 2+0+1=3\]
In this case, 9 does not divide 201\footnote{Why is it immediately
apparent that 9 does not divide 201? Hint: both 3 and 67 are prime numbers.
Check the ``\href{https://en.wikipedia.org/wiki/Fundamental_theorem_of_arithmetic}{Fundamental
Theorem of Arithmetic}'' wiki page for further insight.}
but 3 does (67 times).
We can see that adding up the digits of 201 gives us 3,
which of course is divisible by 3, but not by 9.

So given that the term ``magic number'' hasn't got
a formal definition in the math world, I think it's time to give it one.
How about if we call ANY number that has this
divisibility property with respect to adding up the digits etc.\ (like 3 and 9) a magic-number?
% After all, the cultural touchstones
% ``Schoolhouse Rock'' \emph{and} ``The School of Rock''
% have set precedent for using
% ``magic number'' to describe 3 and 9, so we may be on to something big here!

Too bad 3 and 9 are the only magic-numbers in base-10,
%Darn - perhaps our new term won't catch on and sweep the nation after all, \dots{} or 
%maybe it will!
% We happen to use base-10 because we have ten fingers\footnote{To be honest, base-10 is
% not ``universal'' among humans, there are plenty of
% \href{https://www.youtube.com/watch?v=l4bmZ1gRqCc}{other bases} in use, albeit not
% as widely used nor as mathematically useful as base-10. This doesn't count
% octal, hexadecimal and binary which are used in the computer world
% so by necessity are, mathematically speaking, \emph{incredibly} useful.}
but what about other bases?
The heptapods in the film ``Arrival'' have 7 limbs, 3 arms and 4 legs, with 7 fingers/toes each.
I'm going to guess that at least at some point in their history they used positional
notation, like our base-10, but instead of 10 they probably base-7 or base-21,
maybe even base-49? So an understanding of magic-numbers in alternate
bases might come in handy when we're called upon to do alien arithmetic.

Let's examine some magic-numbers
%(according to our proposed usage of the term)
in other bases.
% In the way that 9 is a magic-number in base-10,
% then 4 is a magic-number in base-5;
% Also 7 is a magic-number in base-8;
% 15 is a magic-number in base-16;
% \dots{}and 30 is a magic-number in base-31, as you can see with these
% examples\footnote{We are going to use the conventions for specifying
% numbers in alternate bases as outlined in the paper
% ``\href
% {https://dl.dropboxusercontent.com/u/2157321/basisReprThm.pdf}
% {Counting}''}:
\begin{itemize}
\item $4\times{}67=268$ written in base-5 is $(2033)_5$ and $2+0+3+3=8$ (4 divides 8).
\item $7\times{}181=1267$ written in base-8 is $(2363)_8$ and $2+3+6+3=14$ (7 divides 14).
\item $15\times{}23=345$ written in base-16 is $(159)_{16}$ and $1+5+9=15$.
\item $30\times{}35951=1078530$ written in base-31 is $(15699)_{31}$ and $1+5+6+9+9=30$
\end{itemize}

Notice the pattern:
If $b$ is our base, then $(b-1)$ is a magic-number in base-$b$.

Let's take a look at some other examples in base-31.
It appears that 2, 3, 5, 6, 10, 15 (along with 30)
are \emph{all} magic-numbers in base-31, as we we can see
with the following examples:
\begin{itemize}
\item $2\times{}409\times{}1129=923522$ written in base-31 is $(10001)_{31}$ and $1+0+0+0+1=2$.
\item $3\times{}641=1923$ written in base-31 is $(201)_{31}$ and $2+0+1=3$.
\item $5\times{}139\times{}2659=1848005$ written in base-31 is $(20102)_{31}$ and $2+0+1+0+2=5$.
\item $6\times{}10091=60546$ written in base-31 is $(2103)_{31}$ and $2+1+0+3=6$.
\item $10\times{}197\times{}941=1853770$ written in base-31 is $(20701)_{31}$ and $2+0+7+0+1=10$.
\item $15\times{}71503=1072545$ written in base-31 is $(15027)_{31}$ and $1+5+0+2+7=15$.
\end{itemize}

See the pattern? All the divisors of 30 are magic-numbers in base-31.
It turns out that in base-$b$, then any divisor of $(b-1)$ is a magic-number in base-$b$.

I guess that begs the question: What about 1? Isn't 1 a magic-number in all bases?
Since we already know that all numbers are divisible by 1,
then we don't need to go to any trouble of adding up digits to find this out.
So let's exclude 1 from being considered as a magic-number - it's not helpful.

Let's quickly review what it means for a number to be divisible 
by another number
\footnote{See ``\href {https://dl.dropboxusercontent.com/u/2157321/basisReprThm.pdf} {Counting}'', also written by Rowell}.
%Recall from the paper ``\href
%{https://dl.dropboxusercontent.com/u/2157321/basisReprThm.pdf} {Counting}''\dots

\section*{Euclidean Division Theorem}
\begin{jprIn}
For all integers $a$ and $b$ such that $b\ne0$,
there exist \emph{unique} integers $q$ and $r$ such that:
\[a=qb+r  \text{ such that } 0\le{}r<\lvert{}b\rvert\]
Definition: In the above equation\footnote{Recall
that $\lvert{}b\rvert$ means the ``absolute value'' of $b$ and is always positive. For
example $\lvert{}{-13}\rvert = 13$.}:
\begin{jprIn}
\begin{tabular}{l l}
a is the \emph{dividend} & (``the number being divided'')\\
b is the \emph{divisor} & (``the number doing the dividing'')\\
q is the \emph{quotient} & (``the result of the division'')\\
r is the \emph{remainder} & (``the leftover'')
\end{tabular}
\end{jprIn}
\end{jprIn}

So to say that a number $a$ is divisible by $b$ simply means that $r$ is zero.

In other words, to say an integer $a$ is divisible by another integer $b$
(not zero) means there is a third integer $q$ such that\footnote{Paraphrased
from ``An Introduction to the Theory of Numbers" by G. H. Hardy
and E. M. Wright. Pg 1.}:
\[a=q\cdot{}b\text{\hspace{2.5em}or\hspace{2.5em}}\frac{a}{b}=q\]
We express the fact that $a$ is divisible by $b$, and say
``$b$ divides $a$'' using this notation:
\[b\mid{}a\]
So the following is always true:
\[1\mid{}a,
\text{\hspace{0.5em}and\hspace{0.5em}}a\mid{}a;\]
also
\[b\mid{}0\text{ for every }b\text{ except }0\]
%We sometimes use the following symbol to say that ``$b$ does not divide $a$'',
%\[b\nmid{}a\]
%
%Also it should be plain that:
%\[\text{If }c\mid{}b\text{ and }b\mid{}a\text{, then }c\mid{}a\]
%\[b\mid{}a\text{ implies }bc\mid{}ac\text{, when }c\ne0\]
%And lastly check for yourself that this is always true:
%\[\text{If }c\mid{}a\text{ and }c\mid{}b\text{, then }c\mid{}ma+nb\text{, for all integers }m,n.\]

In order to create our theorem with a 
nice definition for ``magic number''
we need to remind ourselves 
what it means to write a number in a given base
\footnote{Also from ``\href {https://dl.dropboxusercontent.com/u/2157321/basisReprThm.pdf} {Counting}''}:

\section*{Basis Representation Theorem}
\begin{jprIn}
Let $b$ be a positive integer greater than 1.

For every positive integer $n$ there is a unique sequence
of integers $d_0, d_1, d_2,\dots{},d_k$ such that:

\hspace{3em}$n=d_kb^k+d_{k-1}b^{k-1}+\dots+d_2b^2+d_1b^1+d_0b^0$,

where $0\le{}d_i<b$ for all $i$ in $\{0,1,2,\dots{},k\}$ and $d_k\ne0$.

Definition: $n$ is represented in base-$b$ by the string
of base-$b$-digits $(d_kd_{k-1}{\cdots}d_2d_1d_0)_b$
\end{jprIn}
%\bigskip
%So given the Basis-Representation-Theorem and our new notation for divisibility
%then here's our
%proposed theorem and definition for ``magic number'':
%\footnote{Recall that the double-arrow, that
%is $\Leftrightarrow$, should be read as ``if and only if''.}
%
\section*{Magic Number Theorem}
\begin{jprIn}
Let
% $n$
$n=d_kb^k+d_{k-1}b^{k-1}+\dots+d_2b^2+d_1b^1+d_0b^0$,
be the base-$b$-representation of $n$.

If $m$ is a positive integer such that $m\mid{}(b-1)$ then,
%\[m\mid{}n \Leftrightarrow m\mid{}(d_k+\dots+d_2+d_1+d_0)\]
\[m\mid{}n \text{\hspace{2.5em}if and only if\hspace{2.5em}}m\mid{}(d_k+\dots+d_2+d_1+d_0)\]
Definition: We call $m\ne1$ a ``magic-number'' in base-$b$.
\end{jprIn}
\bigskip

As an interesting side note - according to our definition, binary,
or base-2, doesn't have a magic-number.
No great loss, as we said above 1 isn't helpful to consider as a magic-number. 

Let's prove the magic-number-theorem using 
modular arithmetic. If you aren't familiar with modular arithmetic
then I recommend that you check out Khan Academy's
``\href{https://www.khanacademy.org/computing/computer-science/cryptography/modarithmetic/a/what-is-modular-arithmetic}{What is modular arithmetic?}''.
Khan's introductory explanation is excellent, simple and clear,
as is the entire Khan Academy site in case you've never checked it out.

If we take the $a,b,q$ and $r$ from the Euclidean Division Theorem above where:
\[a=qb+r  \text{ such that } 0\le{}r<\lvert{}b\rvert\]
Then the ``mod'' operator is defined like this:
\[a\bmod{b} = r\]
%
%In summary, modular arithmetic is the kind of arithmetic you use when
%you tell time with a 12 hour clock.
%
%For example, if it's 7 o'clock and I ask you to ``meet me in 7 hours"
%then you know I mean ``meet me at 2 o'clock".  Suppose instead I said ``meet me in 31 hours"
%then you would know that our meeting time
%is also going to be 2 o'clock (albeit 1 day hence) because:
%\[7\text{ o'clock}+ 31\text{ hours}= 7\text{ o'clock}+ (7 + 24)\text{ hours}= 2\text{ o'clock}\]
%When we do ``clock arithmetic" we add some
%number of hours to the current time then divide that sum by 12;
%The remainder of the division then
%tells us the clock time.
%
%Any time on the clock, say $T$ o'clock, plus 12 hours is also $T$ o'clock.  Furthermore,
%adding ANY multiple of 12 hours (eg 24, 36, 48, \dots{}) to $T$ o'clock gets us back to $T$ o'clock.
%We can say that $T, T{+}12, T{+}24, T{+}36, T{+}48, \dots{}$ are all equivalent times
%on the clock, or that these numbers are all equivalent modulo 12. It just means the hour hand
%has spun around the clock exactly 1, 2, or 3, etc.\ more times.
%
%So numbers being equivalent modulo 12 (i.e. some number of rotations
%of the hour hand comes back to the same time), means that they have the same
%remainder when divided by 12. For example 1 is equivalent to 13 modulo 12.
%If your drill sargent barks an order at you to meet him at 13:00 hours,
%you'd better show up at 1 o'clock in the afternoon!
%
To prove our theorem we need to prove that 
the remainder of $n$ divided by $m$ is zero if and only if
the remainder of $d_k+\dots+d_1+d_0$ divided by $m$ 
is also zero.
Restated in terms of
modular-arithmetic:
\[n\bmod{m} = 0\text{\hspace{2.5em}if and only if\hspace{2.5em}}(d_k+\dots+d_1+d_0)\bmod{m} = 0\]

SKIP FURTHER EXPLANATION OF MOD UNTIL PROOF COMPLETED.

\section*{Proof of Magic Number Theorem}

Let $b$ be a positive integer greater than 1.

Let $n$ be represented in base-$b$ with the sequence
of integers $d_0, d_1, d_2,\dots{},d_k$ such that:

\hspace{3em}$n=d_kb^k+d_{k-1}b^{k-1}+\dots+d_2b^2+d_1b^1+d_0b^0$,

where $0\le{}d_i<b$ for all $i$ in $\{0,1,2,\dots{},k\}$ and $d_k\ne0$.

Also let $m$ be a positive integer such that $m\mid{}(b-1)$, in other words
there exists some integer $q$ such that:
\[m\cdot{}q=b-1\]

%\break
Lemma:
\[b^k\equiv1\pmod{m}\text{, for all integers }k\ge0\]
Proof of Lemma:
\begin{jprIn}
Let $k$ be an integer such that $k\ge0$.
\begin{alignat*}{3}
&&m\cdot{}q
&= b-1 &&\quad\text{(Definition of }m\text{)}\\
&\Leftrightarrow\quad
&m\cdot{}q+1
&= b &&\quad\text{(Add 1 to both sides)}
\intertext{Given this expression for $b$ we can state the following modular congruence:}
&&m\cdot{}q+1
&\equiv b\pmod{m}\\
&\Leftrightarrow\quad
&0\cdot{}q+1
&\equiv b\pmod{m} &&\quad\text{(Since }m\bmod{m}=0\text{)}\\
&\Leftrightarrow\quad
&1
&\equiv b\pmod{m}% &&\quad\text{(1 is congruent to }b\text{)}
\intertext{Furthermore,}
&&1
&\equiv 1^k\pmod{m} \\
&\Leftrightarrow\quad
&1
&\equiv b^k\pmod{m} &&\quad\text{(Substitute }b\text{ for 1)}
\end{alignat*}
QED - Lemma.
\end{jprIn}
Again here's the base-$b$ expression for $n$:
\begin{alignat*}{3}
&&n
&= d_kb^k+d_{k-1}b^{k-1}+\dots+d_2b^2+d_1b^1+d_0b^0 \\
&\Rightarrow\quad
&n
&\equiv d_kb^k+d_{k-1}b^{k-1}+\dots+d_2b^2+d_1b^1+d_0b^0 \pmod{m}\\
&\Leftrightarrow\quad
&n
&\equiv d_k\cdot{}1+d_{k-1}\cdot{}1+\dots+d_2\cdot{}1+d_1\cdot{}1+d_0\cdot{}1 \pmod{m}\\
&\Leftrightarrow\quad
&n
&\equiv d_k+d_{k-1}+\dots+d_2+d_1+d_0 \pmod{m}\text{\hspace{1em}(Note equivalence of sum of digits and }n\text{)}
\intertext{$m$ divides $n$ if and only if:}
&&0
&\equiv n \pmod{m}\\
&\Leftrightarrow\quad
&0
&\equiv d_k+d_{k-1}+\dots+d_2+d_1+d_0 \pmod{m}\text{\hspace{1em}(Sum of digits and }n\text{ are equivalent)}
\end{alignat*}
QED
\end{document}
