\documentclass{article}

\usepackage[utf8]{inputenc} % set input encoding (not needed with XeLaTeX)

%%% PAGE DIMENSIONS
\usepackage{geometry} % to change the page dimensions
\geometry{letterpaper} % or letterpaper (US) or a5paper or....
\geometry{margin=1.35in} % for example, change the margins to 2 inches all round

\usepackage{graphicx} % support the \includegraphics command and options

\usepackage[parfill]{parskip} % Activate to begin paragraphs with an empty line rather than an indent

%%% PACKAGES
\usepackage{booktabs} % for much better looking tables
\usepackage{array} % for better arrays (eg matrices) in maths
\usepackage{paralist} % very flexible & customisable lists (eg. enumerate/itemize, etc.)
\usepackage{verbatim} % adds environment for commenting out blocks of text & for better verbatim
\usepackage{subfig} % make it possible to include more than one captioned figure/table in a single float
% These packages are all incorporated in the memoir class to one degree or another...

%%% HEADERS & FOOTERS
\usepackage{fancyhdr} % This should be set AFTER setting up the page geometry
\pagestyle{fancy} % options: empty , plain , fancy/
\renewcommand{\headrulewidth}{0pt} % customise the layout...
\lhead{}\chead{}\rhead{}
\lfoot{}\cfoot{\thepage}\rfoot{}

%%% SECTION TITLE APPEARANCE
\usepackage{sectsty}
%\allsectionsfont{\sffamily\mdseries\upshape} % (See the fntguide.pdf for font help)
% (This matches ConTeXt defaults)

%%% ToC (table of contents) APPEARANCE
\usepackage[nottoc,notlof,notlot]{tocbibind} % Put the bibliography in the ToC
\usepackage[titles,subfigure]{tocloft} % Alter the style of the Table of Contents
\renewcommand{\cftsecfont}{\rmfamily\mdseries\upshape}
\renewcommand{\cftsecpagefont}{\rmfamily\mdseries\upshape} % No bold!

% JPR added
\usepackage{fontawesome}
\usepackage{amsfonts}
\usepackage{amssymb}
%\usepackage{amsmath}
\usepackage{mathtools}% includes amsmath
\usepackage{changepage}
\usepackage{enumerate}
%\usepackage{setspace}
\usepackage{relsize}
\usepackage{wasysym}
%\usepackage{romannum}
 
\usepackage[pdftex,
            pdfauthor={James Philip Rowell},
            pdftitle={\jobname},
            pdfsubject={Magic Numbers},
            pdfkeywords={decimal, base-ten, binary, base-two, integers,
	    theorem, proof, mathematics, number-theory, divisors, magic-number},
            pdfproducer={Latex},
            pdfcreator={miktex or lualatex}]{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=black,
    filecolor=magenta,      
    urlcolor=blue,
}
\usepackage{hyperxmp}
\hypersetup{
    pdfauthor={James Philip Philip Rowell},
    pdfcopyright={Copyright  2017 by James Philip Rowell. All rights reserved.}
}
\usepackage{lipsum}

\newenvironment{jprIn}{\begin{adjustwidth}{2em}{}}{\end{adjustwidth}}

\addtolength{\skip\footins}{6pt}

\usepackage{alphalph}
\makeatletter
\newalphalph{\fnsymbolwrap}[wrap]{\@fnsymbol}{}
\makeatother
\renewcommand*{\thefootnote}{%
  \fnsymbolwrap{\value{footnote}}%
}

\usepackage{perpage}
\MakePerPage{footnote}

%%% END Article customizations

\title{Magic-Numbers}
\author{James Philip Rowell}
%\date{} % Activate to display a given date or no date (if empty),
% otherwise the current date is printed 

\begin{document}
\maketitle

In the film ``\href{https://en.wikipedia.org/wiki/School_of_Rock}{School
of Rock}'', Jack Black's character is put on the spot when
the school principle comes into class and demands that he show
her his ``teaching methods'' involving an electric guitar.
So he sings ``\href{https://www.youtube.com/watch?v=aa8U0nL-KXg}{The
Math Song}'' wherein the final line of his
improvised tune is ``\dots{}yes it's nine, and that's a magic-number\dots{}''

It seems that Jack was tipping his hat
to the ``Schoolhouse Rock'' song ``\href{https://youtu.be/aU4pyiB-kq0}{3
Is A Magic Number}''
which most kids from the 70's/80's know -
However referring to 9 as a magic-number isn't
as well known\footnote{According to my own \emph{highly scientific (cough cough)}
informal poll conducted Facebook, %\today{}
``9'' is NOT the first thing that pops into people's heads when they
hear the phrase ``magic-number'' - in fact no one answered ``9'' in my poll.}.

Mind you, there is precedent
for using the term ``\href{http://mathworld.wolfram.com/MagicNumber.html}{magic-number}''
when referring to to the number 9.
There are a host of
\href{http://mathematics-in-europe.eu/?p=144}{mathematical-magic-tricks}
that rely on properties of the number 9.
There is also a process called
``\href{https://en.wikipedia.org/wiki/Casting_out_nines}{casting out nines}'' and a related one 
called calculating the
``\href{http://mathworld.wolfram.com/DigitalRoot.html}{digital root}''
for a number where you take its ``digital sum''. 9 plays a similar role
in all these processes - so within these contexts sometimes 9
is referred to as a magic-number.

So the musical-math-lesson is legit, assuming that Jack is referring to this fact about 9:
\begin{center}
The sum of the digits of a number divisible by 9,
\break
if and only if,
\break
the number
is divisible by 9.
\end{center}

For example:
\begin{jprIn}
$9^5=9\cdot{}9\cdot{}9\cdot{}9\cdot{}9=59049$
\quad and \quad $5+9+0+4+9=27$ \quad and \quad $\frac{27}{9} = 3$.
\end{jprIn}

But 3 is also has this magic-number property, for example:
\[ 3\cdot{}67=201 \quad\text{and}\quad 2+0+1=3\]
In this case, 9 does not divide 201\footnote{Why is it immediately
apparent that 9 does not divide 201? Hint: both 3 and 67 are prime numbers.
Check the ``\href{https://en.wikipedia.org/wiki/Fundamental_theorem_of_arithmetic}{Fundamental
Theorem of Arithmetic}'' wiki page for further insight.}
but 3 does (67 times).
We can see that adding up the digits of 201 gives us 3,
which of course is divisible by 3, but not by 9.

So given that the term ``magic-number'' hasn't got
a formal definition in the math world, I think it's time to give it one.
How about if we call ANY number that has this
divisibility property (with respect to adding up the digits of another number) a ``magic-number''?

Too bad 3 and 9 are the only magic-numbers in base-10,
but what about other bases?
The Heptapods in the film ``Arrival'' have 7 limbs, 3 arms and 4 legs, with 7 fingers/toes each.
I'm guessing that they probably use some form of positional-notation,
but instead of base-ten they probably use base-7, base-21,
or base-49\footnote{For an understanding of alternate bases please see
the paper ``\href {https://www.dropbox.com/s/bwmrffmkcidnf27/basisReprThm.pdf?dl=0}
{Counting}'' by James Philip Rowell}. What might the Heptapod's magic-numbers be?

Let's examine some numbers
in other bases - Note the first number being multiplied versus the base of the converted-number.
%{\small
%\begin{itemize}
%\item $4\cdot{}67=268$ in base-5 is $(2033)_5$ and $2+0+3+3=8$ ($\frac{8}{4}=2$).
%\item $7\cdot{}181=1267$ in base-8 is $(2363)_8$ and $2+3+6+3=14$ ($\frac{14}{7}=2$).
%\item $15\cdot{}23=345$ in base-16 is $(159)_{16}$ and $1+5+9=15$. ($\frac{15}{15}=1$).
%\item $20\cdot{}908249=18164980$ in base-21 is $(498991)_{21}$ and $4+9+8+9+9+1=40$ ($\frac{40}{20}=2$).
%\item $30\cdot{}35951=1078530$ in base-31 is $(15699)_{31}$ and $1+5+6+9+9=30$ ($\frac{30}{30}=1$).
%\end{itemize}
%}
%% {\small
\begin{alignat*}{8}
 4&\cdot{}67=268          &&\text{ in base-5 is } (2033)_5       &&\quad\text{and}\quad &     2+0+3+3&=8  &&\quad(\tfrac{8}{4}=2) \\
 7&\cdot{}181=1267        &&\text{ in base-8 is } (2363)_8       &&\quad\text{and}\quad &     2+3+6+3&=14 &&\quad(\tfrac{14}{7}=2) \\
15&\cdot{}23=345          &&\text{ in base-16 is } (159)_{16}    &&\quad\text{and}\quad &       1+5+9&=15 &&\quad(\tfrac{15}{15}=1) \\
20&\cdot{}908249=18164980 &&\text{ in base-21 is } (498991)_{21} &&\quad\text{and}\quad & 4+9+8+9+9+1&=40 &&\quad(\tfrac{40}{20}=2) \\
30&\cdot{}35951=1078530   &&\text{ in base-31 is } (15699)_{31}  &&\quad\text{and}\quad &   1+5+6+9+9&=30 &&\quad(\tfrac{30}{30}=1)
\end{alignat*}
%% }
Notice the pattern in our examples:
$(b-1)$ acts like a magic-number in base-$b$.

Let's take a look at some other examples in base-31.
It appears that 2, 3, 5, 6, 10, 15 (along with 30 above)
might \emph{all} be magic-numbers in base-31:
% \begin{itemize}
% \item $2\cdot{}409\cdot{}1129=923522$ written in base-31 is $(10001)_{31}$ and $1+0+0+0+1=2$.
% \item $3\cdot{}641=1923$ written in base-31 is $(201)_{31}$ and $2+0+1=3$.
% \item $5\cdot{}139\cdot{}2659=1848005$ written in base-31 is $(20102)_{31}$ and $2+0+1+0+2=5$.
% \item $6\cdot{}10091=60546$ written in base-31 is $(2103)_{31}$ and $2+1+0+3=6$.
% \item $10\cdot{}197\cdot{}941=1853770$ written in base-31 is $(20701)_{31}$ and $2+0+7+0+1=10$.
% \item $15\cdot{}71503=1072545$ written in base-31 is $(15027)_{31}$ and $1+5+0+2+7=15$.
% \end{itemize}
\begin{alignat*}{8}
 2&\cdot{}409\cdot{}1129&&=923522  &&= (10001)_{31} &&\quad\text{and}\quad & 1+0+0+0+1&=2 \\
 3&\cdot{}641&&=1923               &&= (201)_{31}   &&\quad\text{and}\quad & 2+0+1&=3 \\
 5&\cdot{}139\cdot{}2659&&=1848005 &&= (20102)_{31} &&\quad\text{and}\quad & 2+0+1+0+2&=5 \\
 6&\cdot{}10091&&=60546            &&= (2103)_{31}  &&\quad\text{and}\quad & 2+1+0+3&=6 \\
10&\cdot{}197\cdot{}941&&=1853770  &&= (20701)_{31} &&\quad\text{and}\quad & 2+0+7+0+1&=10 \\
15&\cdot{}71503&&=1072545          &&= (15027)_{31} &&\quad\text{and}\quad & 1+5+0+2+7&=15
\end{alignat*}

See the pattern? All the divisors of 30 seem to be magic-numbers in base-31.
It turns out that in base-$b$, then any divisor of $(b-1)$ is a magic-number in base-$b$;
however, since we've only looked at some examples, we can't make that claim unless we prove it in general.

What about 1? Wouldn't 1 a magic-number in all bases? Of course it would because
we know that all numbers are divisible by 1, and adding up any set of digits is also 
divisible by 1, but this isn't very interesting
so let's exclude 1 from being considered as a magic-number - it's not helpful information.

Let's review what it means for a number to be divisible 
by another
number\footnote{``\href {https://www.dropbox.com/s/bwmrffmkcidnf27/basisReprThm.pdf?dl=0} {Counting}'' p. 21}.

\break
\section*{Euclidean Division Theorem}
\begin{jprIn}
For all integers $a$ and $b$ such that $b\ne0$,
there exist \emph{unique} integers $q$ and $r$ such that:
\[a=qb+r  \text{ such that } 0\le{}r<\lvert{}b\rvert\]
Definition: In the above equation\footnote{Recall
that $\lvert{}b\rvert$ means the ``absolute value'' of $b$ and is always positive. For
example $\lvert{}{-13}\rvert = 13$.}:
\begin{jprIn}
\begin{tabular}{l l}
a is the \emph{dividend} & (``the number being divided'')\\
b is the \emph{divisor} & (``the number doing the dividing'')\\
q is the \emph{quotient} & (``the result of the division'')\\
r is the \emph{remainder} & (``the leftover'')
\end{tabular}
\end{jprIn}
\end{jprIn}

Which is how you learned to divide in primary school with ``long-division'', that is;
\[\frac{a}{b}=q\text{, with remainder }r\]
So for example.
\[\frac{19}{6}=3\text{, with remainder }1\]

So to say that $a$ is divisible by $b$ simply means\footnote{Paraphrased
from ``An Introduction to the Theory of Numbers" by G. H. Hardy
and E. M. Wright. Pg 1.}
that $r$ is zero
so we can write:
\[a=q\cdot{}b\text{\hspace{2.5em}or\hspace{2.5em}}\frac{a}{b}=q\]
We express the fact that $a$ is divisible by $b$, and say
``$b$ divides $a$'' using this notation:
\[b\mid{}a\]
So the following is always true:
\[1\mid{}a,
\text{\hspace{0.5em}and\hspace{0.5em}}a\mid{}a;\]
also
\[b\mid{}0\text{ for every }b\text{ except }0\]

In order to create our theorem with a 
nice definition for ``magic-number''
we need to remind ourselves 
what it means to write a number in a given
base\footnote{``\href{https://www.dropbox.com/s/bwmrffmkcidnf27/basisReprThm.pdf?dl=0} {Counting} p. 2''}:

\section*{Basis Representation Theorem}
\begin{jprIn}
Let $b$ be a positive integer greater than 1.

For every positive integer $n$ there is a unique sequence
of integers $d_0, d_1, d_2,\dots{},d_k$ such that:

\hspace{3em}$n=d_kb^k+d_{k-1}b^{k-1}+\dots+d_2b^2+d_1b^1+d_0b^0$,

where $0\le{}d_i<b$ for all $i$ in $\{0,1,2,\dots{},k\}$ and $d_k\ne0$.

Definition: $n$ is represented in base-$b$ by the string
of base-$b$-digits $(d_kd_{k-1}{\cdots}d_2d_1d_0)_b$
\end{jprIn}

\bigskip
Armed with our divisibility notation above plus what it means to
express an arbitrary number in a given base we can state our new theorem as follows.
\section*{Magic-Number Theorem}
\begin{jprIn}
Let
$n=d_kb^k+\dots+d_2b^2+d_1b^1+d_0b^0$
be the base-$b$-representation of $n$.

If $m$ is a positive integer such that $m\mid{}(b-1)$ then\footnote{Recall that the 
bidirectional arrow symbol $\Leftrightarrow$
means ``if and only if'' - it's like a logical ``equals'' sign},
\[m\mid{}n \text{\hspace{2.5em}} \Leftrightarrow \text{\hspace{2.5em}}m\mid{}(d_k+\dots+d_2+d_1+d_0)\]
Definition: $m\ne1$ is called a ``magic-number in base-$b$''.
\end{jprIn}
\bigskip

As an interesting side note - according to our definition, binary,
or base-2, doesn't have a magic-number.
No great loss, as we said above 1 isn't helpful to consider as a magic-number. 

Let's prove the magic-number-theorem using 
modular-arithmetic. If you aren't familiar with modular-arithmetic
then check out Khan Academy's
``\href{https://www.khanacademy.org/computing/computer-science/cryptography/modarithmetic/a/what-is-modular-arithmetic}{What is modular-arithmetic?}''.
Khan's introductory explanation is excellent, simple and clear,
as is the entire Khan Academy site in case you've never checked it out.

If we take the $a,b,q$ and $r$ from the Euclidean Division Theorem above where:
\[a=qb+r  \text{ such that } 0\le{}r<\lvert{}b\rvert\]
Then the ``mod'' operator is defined like this:
\[a\bmod{b} = r\]
To prove our theorem we need to prove that 
the remainder of $n$ divided by $m$ is zero, if and only if,
the remainder of $d_k+\dots+d_1+d_0$ divided by $m$ 
is also zero.
Restated in terms of
modular-arithmetic, we need to prove:
\[n\bmod{m} = 0\text{\hspace{2.5em}}\Leftrightarrow\text{\hspace{2.5em}}(d_k+\dots+d_1+d_0)\bmod{m} = 0\]

I'm going to assume that you are familiar with how to use modular-arithmetic from this point forward;
if not, make a quick detour to Khan Academy.

\section*{Lemma}
Let $b>1$ and $m$ be positive integers such that 
$m\mid{}(b-1)$ then,
\[b^k\equiv1\pmod{m}\text{, for all integers }k\ge0\]

\break
Proof of Lemma:
\begin{jprIn}
Let $k$, $b$ and $m$ be integers as described in the lemma, then there exists an integer $q$ such that,
\begin{alignat*}{4}
&&m\cdot{}q
&= b-1 && &&\quad\text{(Definition of }m\mid{}(b-1)\text{)}\\
&\Leftrightarrow\quad
&m\cdot{}q+1
&= b && &&\quad\text{(Add 1 to both sides)}
\intertext{Given this equality we can state the following modular-congruence:}
&&m\cdot{}q+1
&\equiv b &&\pmod{m}\\
&\Leftrightarrow\quad
&0\cdot{}q+1
&\equiv b &&\pmod{m} &&\quad\text{(Since }m\bmod{m}=0\text{)}\\
&\Leftrightarrow\quad
&1
&\equiv b &&\pmod{m}% &&\quad\text{(1 is congruent to }b\text{)}
\intertext{Furthermore,}
&&1
&\equiv 1^k &&\pmod{m} &&\quad\text{(For all }k>=0\text{)}\\
&\Leftrightarrow\quad
&1
&\equiv b^k &&\pmod{m} &&\quad\text{(Substitute }b\text{ for 1 since they are congruent)}
\end{alignat*}
QED - Lemma.
\end{jprIn}

\section*{Proof of Magic-Number Theorem}

Let $b$ be a positive integer greater than 1.

Let
$n=d_kb^k+\dots+d_2b^2+d_1b^1+d_0b^0$
be the base-$b$-representation of $n$.
Also let $m$ be a positive integer such that $m\mid{}(b-1)$. Therefore,
{\small
\begin{alignat*}{4}
&&n
&= d_kb^k+d_{k-1}b^{k-1}+\dots+d_2b^2+d_1b^1+d_0b^0 \\
&\Rightarrow\quad
&n
&\equiv d_kb^k+d_{k-1}b^{k-1}+\dots+d_2b^2+d_1b^1+d_0b^0 &&\pmod{m}\\
&\Leftrightarrow\quad
&n
&\equiv d_k\cdot{}1+d_{k-1}\cdot{}1+\dots+d_2\cdot{}1+d_1\cdot{}1+d_0\cdot{}1 &&\pmod{m} &&\quad\text{(By lemma)}\\
&\Leftrightarrow\quad
&n
&\equiv d_k+d_{k-1}+\dots+d_2+d_1+d_0 &&\pmod{m}
\intertext{Therefore $n$ is congruent to the sum of its digits mod $m$, furthermore $m\mid{}n$ if and only if:}
&&0
&\equiv n &&\pmod{m} &&\quad\text{(Definition of }m\mid{}n\text{)}\\
&\Leftrightarrow\quad
&0
&\equiv d_k+d_{k-1}+\dots+d_2+d_1+d_0 &&\pmod{m} &&\quad\text{(Substitute sum of digits for }n\text{)}
\end{alignat*}
}
QED
\section*{Epilogue}
It's amazing how simple is is to prove our theorem using modular arithmetic. I believe the magic-number-theorem
isn't usually granted any special status (like giving it a name and adding a new
definition for ``magic-number'') and is likely only
presented as a simple excercise for students in elemetary-algebra or elementary-number-theory textbooks.

However, it's fun and I want to use this theorem and some other observations about times-tables to see if I can determine
what the ``best'' base-number-system might be! (I'll define ``best'' later.) At any rate, I think the
Heptapods in ``Arrival'' might be the winners with base-21. Stay tuned for my next paper!
\end{document}
