\documentclass{article}

\usepackage[utf8]{inputenc} % set input encoding (not needed with XeLaTeX)

%%% PAGE DIMENSIONS
\usepackage{geometry} % to change the page dimensions
\geometry{letterpaper} % or letterpaper (US) or a5paper or....
\geometry{margin=1.35in} % for example, change the margins to 2 inches all round

\usepackage{graphicx} % support the \includegraphics command and options

\usepackage[parfill]{parskip} % Activate to begin paragraphs with an empty line rather than an indent

%%% PACKAGES
\usepackage{booktabs} % for much better looking tables
\usepackage{array} % for better arrays (eg matrices) in maths
\usepackage{paralist} % very flexible & customisable lists (eg. enumerate/itemize, etc.)
\usepackage{verbatim} % adds environment for commenting out blocks of text & for better verbatim
\usepackage{subfig} % make it possible to include more than one captioned figure/table in a single float
% These packages are all incorporated in the memoir class to one degree or another...

%%% HEADERS & FOOTERS
\usepackage{fancyhdr} % This should be set AFTER setting up the page geometry
\pagestyle{fancy} % options: empty , plain , fancy/
\renewcommand{\headrulewidth}{0pt} % customise the layout...
\lhead{}\chead{}\rhead{}
\lfoot{}\cfoot{\thepage}\rfoot{}

%%% SECTION TITLE APPEARANCE
\usepackage{sectsty}
%\allsectionsfont{\sffamily\mdseries\upshape} % (See the fntguide.pdf for font help)
% (This matches ConTeXt defaults)

%%% ToC (table of contents) APPEARANCE
\usepackage[nottoc,notlof,notlot]{tocbibind} % Put the bibliography in the ToC
\usepackage[titles,subfigure]{tocloft} % Alter the style of the Table of Contents
\renewcommand{\cftsecfont}{\rmfamily\mdseries\upshape}
\renewcommand{\cftsecpagefont}{\rmfamily\mdseries\upshape} % No bold!

% JPR added
\usepackage{fontawesome}
\usepackage{amsfonts}
%\usepackage{amsmath}
\usepackage{mathtools}% includes amsmath
\usepackage{changepage}
\usepackage{enumerate}
%\usepackage{setspace}
\usepackage{relsize}
\usepackage{wasysym}
%\usepackage{romannum}
 
\usepackage[pdftex,
            pdfauthor={James Rowell},
            pdftitle={\jobname},
            pdfsubject={Magic Numbers},
            pdfkeywords={decimal, base-ten, binary, base-two, integers, theorem, proof, mathematics, number-theory, divisors},
            pdfproducer={Latex},
            pdfcreator={miktex or lualatex}]{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=black,
    filecolor=magenta,      
    urlcolor=blue,
}
\usepackage{hyperxmp}
\hypersetup{
    pdfauthor={James Philip Rowell},
    pdfcopyright={Copyright Â© 2017 by James Philip Rowell. All rights reserved.}
}
\usepackage{lipsum}

\newenvironment{jprIn}{\begin{adjustwidth}{2em}{}}{\end{adjustwidth}}
\addtolength{\skip\footins}{6pt}

\usepackage{alphalph}
\makeatletter
\newalphalph{\fnsymbolwrap}[wrap]{\@fnsymbol}{}
\makeatother
\renewcommand*{\thefootnote}{%
  \fnsymbolwrap{\value{footnote}}%
}

\usepackage{perpage}
\MakePerPage{footnote}

%%% END Article customizations


%%% The "real" document content comes below...

\title{Magic Numbers}
\author{James Rowell}
%\date{} % Activate to display a given date or no date (if empty),
% otherwise the current date is printed 

\begin{document}
\maketitle
%\bigskip

In the delightful film ``\href{https://en.wikipedia.org/wiki/School_of_Rock}{School of Rock}'' Jack Black's character Dewey Finn,
pretending to be substitute teacher Ned Schneebly, is put on the spot when
Miss. Mullins, the school principle, comes into class and demands that he show
her his teaching methods which apparently involve an electric guitar.
So ``Mr. S'' sings ``\href{https://www.youtube.com/watch?v=aa8U0nL-KXg}{The Math Song}'' - in the final line of his
improvised tune he sings ``...yes it's 9, and that's a magic-number...''

He's right - he's referring to the fact that if you add up the digits of
any number then if that sum is divisible by 9, then the original number
must be divisible by 9. It works the other way too, that is, if we know
that a number is divisible by 9 then the sum of its digits must also be
divisible by 9.

For example:
\begin{jprIn}
$9^5=59049$ and $5+9+0+4+9=27$ and 9 divides 27 because $27 = 3\times{}9$.
\end{jprIn}

You may recall that 3 is also a magic-number, for example:
\[ 3\times{}67=201 \text{ and } 2+0+1=3\]
In this case, 9 does not divide 201\footnote{Why is it immediately apparent that 9 does not divide 201? Hint: both 3 and 67 are prime numbers.
Google the ``Fundamental Theorem of Arithmetic'' for further insight.}
but 3 does (67 times).
We can see that adding up the digits of 201 gives us 3, which of course is divisible by three but not by 9.

Anytime I want to check to see if a number is divisible by 3 (but don't feel like busting out a calculator)
I use this little trick of checking to see if the digits add up to some multiple of 3. Along with the tricks to see if the number is divisible by 2 (last digit is even) or is divisible 
by 5 (last digit is 0 or 5) - you can decide if you can factor out 2, 3 or 5 from any number pretty quickly.  7 takes real work \dots{}but I digress.

3 and 9 are the only magic-numbers in base-10.
However 7 is a magic-number in base-8;
And 4 is a magic-number in base-5;
15 is a magic-number in base-16;
\dots{}and 30 is a magic-number in base-31.

Here are some examples demonstrating\footnote{We are going to use the conventions for specifying
numbers in alternate bases as outlined in the paper ``Sesame~Street++''.} this fact about magic-numbers
in alternate bases:
\begin{itemize}
\item $7\times{}7=49$ written in base-8 is $(61)_8$ and $6+1=7$.
\item $7^3\times{}5=1715$ written in base-8 is $(3263)_8$ and $3+2+6+3=14$ (7 divides 14).
\item $4\times{}67=268$ written in base-5 is $(2033)_5$ and $2+0+3+3=8$ (4 divides 8).
\item $15\times{}23=345$ written in base-16 is $(159)_{16}$ and $1+5+9=15$.
\item $30\times{}35951=1078530$ written in base-31 is $(15699)_{31}$ and $1+5+6+9+9=30$
\end{itemize}

You may notice a pattern: the biggest ``digit'' in any base (which is always one less than the base) is a magic-number.
Using our examples, 9 is the biggest
digit in base-10; 7 is the biggest digit in base-8; and 4 is the biggest digit in base-5.  To write this out in a general way
we would say that if $b$ is our base, then $(b-1)$ is a magic-number in base-$b$.

So what about 3 also being a magic-number in base-10?  Let's take a look at the interesting (but probably never used outside this paper) base-31.
It appears that 2, 3, 5, 6, 10, 15 (along with 30) are \emph{all} magic-numbers in base-31, as we we can see
with the following examples:
\begin{itemize}
\item $2\times{}13\times{}37=962$ written in base-31 is $(101)_{31}$ and $1+0+1=2$.
\item $3\times{}641=1923$ written in base-31 is $(201)_{31}$ and $2+0+1=3$.
\item $5\times{}139\times{}2659=1848005$ written in base-31 is $(20102)_{31}$ and $2+0+1+0+2=5$.
\item $6\times{}10091=60546$ written in base-31 is $(2103)_{31}$ and $2+1+0+3=6$.
\item $10\times{}197\times{}941=1853770$ written in base-31 is $(20701)_{31}$ and $2+0+7+0+1=10$.
\item $15\times{}71503=1072545$ written in base-31 is $(15027)_{31}$ and $1+5+0+2+7=15$.
\end{itemize}

See the pattern? All the divisors of 30 are magic-numbers in base-31.
It turns out that in base-$b$, then any divisor of $(b-1)$ is a magic-number in base-$b$.

I guess that begs the question: What about 1? Isn't 1 a magic-number in all bases?
Since we already know that all numbers are divisible by 1,
then we don't need to go to any trouble of adding up digits to find this out.
So let's exclude 1 from being considered as a magic-number - it's not helpful.

\section*{Magic Number Theorem}
\begin{jprIn}
Let $b$ be a positive integer greater than 1.

Let $n$ be a positive integer such that 

\hspace{3em}$n=d_kb^k+d_{k-1}b^{k-1}+\dots+d_2b^2+d_1b^1+d_0b^0$,

Given a sequence
of integers $d_0, d_1, d_2,\dots{},d_k$ such that:



where $0\le{}d_i<b$ for all $i$ in $\{0,1,2,\dots{},k\}$ and $d_k\ne0$.


Let $b, m, n\in\mathbb{Z}$ such that $b\ge2$ and $m\big|(b-1)$.

If $n=d_kb^k+\dots+d_2b^2+d_1b^1+d_0b^0$, $d_i\in\mathbb{Z}: 0\le{}d_i\le(b-1)\ \forall{}\ i\in\{0,1,\dots{}k\}$ then
\[m\big|n \Leftrightarrow m\big|(d_k+\dots+d_2+d_1+d_0)\]
Definition: $m\ne1$ is called a ``magic-number'' in base-$b$.
\end{jprIn}
\bigskip

As an interesting side note - according to our definition, binary,
or base-2, doesn't have a magic-number.
No great loss, as we said above 1 isn't helpful to consider as a magic-number. 

Let's look at the definition of a number represented in a given base.

...wip…
break down what a number is (refer to baseTheorem paper) and explain motivation for mod

We assume the following properties of modular arithmetic where a,b,c ? Zsuch that c>1.

(a+b) mod c=(a mod c+b mod c) mod c
ab mod c=((a mod c)·(b mod c)) mod c

As a generalization of 2), we get:

3) a mod c=b mod c akmod c=bk mod c

Importantly, a mod c=0 c divides a.

In other words, there exists a number n such that nc=a.
Lemma:
if d>1 is a divisor of m then:
(m+1)k mod d=1
Proof of Lemma:
Let d be a divisor of m. Soc such that cd=m.
Hence, (cd + 1) mod d = cd mod d + 1 mod d
= (c mod d) (d mod d) + 1 mod d
= (c mod d) 0 + 1 mod d
= 1 mod d
By property 3) above, since (cd+1) mod d=1 mod d then:
(m + 1)k mod d
= (cd + 1)k mod d
= (cd+1) mod d
= 1
QED

Proof of ``Magic Number'' Theorem:

Let N=M+1.

That is; we are going to consider representations of numbers in base-M+1, so think of M as our magic-number.

Also let M=1, so our smallest possible base will be 2.
Then every integer n is uniquely expressible in base-M+1 as follows:
n=ak(M+1)k+ak-1(M+1)k-1+?+a2(M+1)2+a1(M+1)+a0
where 0=ai=M for all the ``digits'' ai where 0=i=k.
n is divisible by M if and only if n mod M=0. 
Substitute the base-M+1 expression of n into the above relationship, therefor
0=(ak(M+1)k+ak-1(M+1)k-1+?+a2(M+1)2+a1(M+1)+a0)mod M


\section*{TEST}

\begin{jprIn}
Let $n,k\in \mathbb{Z}_{\ge 0}$. Then every $n$ can be uniquely expressed as follows:

\hspace{3em}$n=d_k10^k+d_{k-1}10^{k-1}+\dots+d_210^2+d_110^1+d_010^0$

for some $k$ such that $0 \le d_i \le 9$ where $d_i,i\in\mathbb{Z}$ and $0 \le i \le k$.

Furthermore $d_k\ne0$ except when $n=0$.

Definition: $n$ is represented in base-ten as $d_kd_{k-1}\dots{}d_2d_1d_0$
\end{jprIn}
\bigskip


\end{document}
